import{_ as a,r as s,o,c as r,a as t,b as p,F as d,e,d as i}from"./app.5f1a8df7.js";const l={},c=t("h1",{id:"_1password-config-plugin",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_1password-config-plugin","aria-hidden":"true"},"#"),e(" 1Password config plugin")],-1),h=t("h2",{id:"setting-up-1password",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#setting-up-1password","aria-hidden":"true"},"#"),e(" Setting up 1Password")],-1),u=e("View "),b={href:"https://developer.1password.com/docs/connect/",target:"_blank",rel:"noopener noreferrer"},f=e("1Password documentation"),m=e(" to get started."),g=i(`<h2 id="setting-up-bsb" tabindex="-1"><a class="header-anchor" href="#setting-up-bsb" aria-hidden="true">#</a> Setting up BSB</h2><h3 id="environment-variables" tabindex="-1"><a class="header-anchor" href="#environment-variables" aria-hidden="true">#</a> Environment variables</h3><ul><li><p>BSB_OP_VAULT=<code>(enter vault id)</code><br> The vault ID to use as the config source of truth.</p></li><li><p>BSB_CONFIG_PLUGIN=<code>config-1password</code><br> Enable the plugin</p></li><li><p>BSB_OP_SERVER_URL=<code>http://op-connect-api:8080</code><br> Define the server url to the op connect api service</p></li><li><p>BSB_OP_TOKEN=<code>(enter token)</code><br> Set the token to connect to the vault - read only</p></li></ul><h2 id="_1password-definitions" tabindex="-1"><a class="header-anchor" href="#_1password-definitions" aria-hidden="true">#</a> 1password definitions</h2><h3 id="profile-deployment-profile" tabindex="-1"><a class="header-anchor" href="#profile-deployment-profile" aria-hidden="true">#</a> Profile (deployment profile)</h3><p>Title: <code>profile-{profile-name}</code></p><p>These define the deployment profiles for micro-services.</p><h4 id="sections" tabindex="-1"><a class="header-anchor" href="#sections" aria-hidden="true">#</a> Sections</h4><p>The below sections define the plugin mapping.</p><p>Title: <code>Profile Info</code></p><table><thead><tr><th>Title</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>notes</td><td></td><td>Define additional notes/information</td></tr><tr><td>debug</td><td>false</td><td>true/false - if debug mode is enabled</td></tr></tbody></table><p>Title: <code>Plugin Maps (Events)</code></p><table><thead><tr><th>Title</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>(plugin name)</td><td>(name / mapped name)</td><td>definition</td></tr><tr><td>events-rabbitmq</td><td>events-rabbitmq</td><td>example for rabbitMQ events plugin</td></tr></tbody></table><p>Title: <code>Plugin Maps (Logging)</code></p><table><thead><tr><th>Title</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>(plugin name)</td><td>(name / mapped name)</td><td>definition</td></tr><tr><td>log-gelf</td><td>log-gelf</td><td>example for GrayLog logging plugin</td></tr></tbody></table><p>Title: <code>Plugin Maps (Plugins)</code></p><table><thead><tr><th>Title</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>(plugin name)</td><td>(name / mapped name)</td><td>definition</td></tr><tr><td>fastify</td><td>fastify</td><td>example for fastify web-server plugin</td></tr></tbody></table><p>You can disable a plugin by adding a <code>!</code> in front of the value, setting the value as false, or by removing it from the list alltogether.</p><h3 id="config" tabindex="-1"><a class="header-anchor" href="#config" aria-hidden="true">#</a> Config</h3><p>Title: <code>{plugin-mapped-name}</code></p><p>These define the plugin config for each micro-service.</p><h4 id="sections-1" tabindex="-1"><a class="header-anchor" href="#sections-1" aria-hidden="true">#</a> Sections</h4><p>The below sections define the plugin config.</p><p>Title: <code>Plugin Info</code></p><table><thead><tr><th>Title</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>notes</td><td></td><td>Define additional notes/information</td></tr></tbody></table><p>Title: <code>Config</code></p><table><thead><tr><th>Title</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>(path key)</td><td>(value)</td><td>config definition</td></tr></tbody></table><h4 id="example-fastify" tabindex="-1"><a class="header-anchor" href="#example-fastify" aria-hidden="true">#</a> Example: Fastify</h4><table><thead><tr><th>Title</th><th>Value</th></tr></thead><tbody><tr><td>httpPort</td><td>80</td></tr><tr><td>server</td><td>http</td></tr><tr><td>httpToHttpsRedirect</td><td>false</td></tr><tr><td>httpsPort</td><td>443</td></tr><tr><td>httpsCert</td><td>null</td></tr><tr><td>cors.enabled</td><td>true</td></tr><tr><td>cors.options.allowedHeaders</td><td>content-type,authorization</td></tr><tr><td>cors.options.methods</td><td>GET,POST,PUT,PATCH,DELETE,OPTIONS</td></tr></tbody></table><p>Once converted to JSON:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;httpPort&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token property">&quot;server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;httpToHttpsRedirect&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;httpsPort&quot;</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
  <span class="token property">&quot;httpsCert&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;allowedHeaders&quot;</span><span class="token operator">:</span> <span class="token string">&quot;content-type,authorization&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;methods&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET,POST,PUT,PATCH,DELETE,OPTIONS&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="example-arrays" tabindex="-1"><a class="header-anchor" href="#example-arrays" aria-hidden="true">#</a> Example: Arrays</h4><table><thead><tr><th>Title</th><th>Value</th></tr></thead><tbody><tr><td>servers.0</td><td>true</td></tr><tr><td>servers.1</td><td>false</td></tr></tbody></table><p>Once converted to JSON:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,35);function k(y,_){const n=s("ExternalLinkIcon");return o(),r(d,null,[c,h,t("p",null,[u,t("a",b,[f,p(n)]),m]),g],64)}var T=a(l,[["render",k],["__file","index.html.vue"]]);export{T as default};
